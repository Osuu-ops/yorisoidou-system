# CI_GUARD_CANON
（CI レベル最小ガード定義）

本書は、MEP における
**内容破壊・境界違反・確定違反**を
CI で即時検知・停止するための最小定義である。

本書は実装コードを定義しない。
本書は判断・例外を許可しない。

---

## 1. 対象ファイル（必須）

以下は CI ガード対象とする。

- MEP_PROTOCOL
- system_protocol
- master_spec
- MEP_EXECUTION_CANON.md
- API_IO_BOUNDARY_CANON.md
- CONTENT_IMMUTABILITY_CANON.md
- foundation 配下の *CANON / *POLICY / *DEFINITION 文書

---

## 2. 即 NG 条件（1つでも該当で停止）

### 2.1 行削除の検出
- 対象文書で **行数が減少**した場合

### 2.2 行置換の検出
- 同一行番号で **内容が異なる**場合

### 2.3 構造変更の検出
- 見出し階層の変更
- セクション順序の変更

### 2.4 境界違反の検出
- read-only 文書への書込み
- diff を伴わない変更

---

## 3. 許可される唯一の変更

以下のみ CI 通過を許可する。

- 明示的 unified diff の適用
- 人間が「全文置換」と明示したコミット

上記以外は理由を問わず NG とする。

---

## 4. Z との関係

CI は Z の代替ではない。
CI は **Z の前段物理ガード**である。

CI が NG を返した場合、
Z に到達してはならない。

---

## 5. 出力（必須）

CI NG 時は、以下を必ず出力する。

- 削除された行
- 置換された行
- 該当ファイル名
- NG 条件番号

判断文・説明文の出力は禁止する。

---

以上。
