# CI_GUARD_CANON
（CI レベル最小ガード定義）

本書は、MEP における
**内容破壊・境界違反・確定違反**を
CI によって機械的に検知・遮断するための最小定義である。

本書は、
- 実装コードを定義しない
- 思想・判断・裁量を含まない
- 例外処理を許可しない

---

## 1. 対象ファイル（必須）

以下は CI ガード対象とする。

- MEP_PROTOCOL
- system_protocol
- master_spec
- MEP_EXECUTION_CANON.md
- API_IO_BOUNDARY_CANON.md
- CONTENT_IMMUTABILITY_CANON.md
- foundation 配下の *CANON / *POLICY / *DEFINITION 文書

---

## 2. 即 NG 条件（1つでも該当で遮断）

以下のいずれかが検知された場合、
CI は **機械的に NG** とする。

### 2.1 行削除の検出
- 対象文書で **行数が減少**した場合

### 2.2 行置換の検出
- 同一行番号で **内容が異なる**場合

### 2.3 構造変更の検出
- 見出し階層の変更
- セクション順序の変更

### 2.4 境界違反の検出
- read-only 文書への書込み
- diff を伴わない変更

---

## 3. 許可される唯一の変更形態

以下のみ CI 通過を許可する。

- 明示的な unified diff の適用
- 人間が「全文置換」と明示したコミット

上記以外は、理由を問わず NG とする。

---

## 4. Z との関係（明確化）

CI は Z の代替ではない。  
CI は **Z に先行する物理的・機械的ガード**である。

CI によって NG と判定された変更は、  
**Z に関する検討対象・観測対象とならない。**

CI は、
- Z の判断材料を生成しない
- Z の評価を補助しない
- Z の存在を前提とした制御を行わない

---

## 5. 出力（必須）

CI が NG と判定した場合、以下を必ず出力する。

- 削除された行
- 置換された行
- 該当ファイル名
- NG 条件番号

判断文・説明文・改善提案の出力は禁止する。

---

## 6. 最終宣言

本書をもって、

CI_GUARD は  
MEP における **最前段の物理的安全弁**として確定する。

本書は、
- 思想（MEP_PROTOCOL）
- 監査思想（Z）
- 実行制御（system_protocol）

の **いずれにも介入しない**。

以上。
