# AI出力契約（PowerShell運用・単一コピペ一本道）

本書は **MEP 運用における AI 出力の契約**である。以後、AI は本契約に違反する出力をしてはならない。

## 1. 実行環境（固定）
- 作業は **PowerShell** で実行する。
- PowerShell の Here-String は **@'' ''@（シングルクォート）** を使用する（@" "@ 禁止）。

## 2. 出力形式（原則：単一ブロック）
- AI の出力は、原則として **単一の PowerShell コードブロック**のみで提示する。
- ユーザーが行う操作は **上から順にコピペして実行するだけ**とする。
- 途中に別のコードブロック、分岐、選択肢、差し替え指示を挟まない（混入がバグの原因となるため）。

## 3. ID・番号・差し替え（手入力禁止）
- PR番号 / workflow id / run id / commit sha 等の **ID・番号の手入力や代入（差し替え）を禁止**する。
- 必要なIDは、AIが **gh コマンドで自動解決して変数化**し、提示するコマンド内で完結させる。
- `<...>` 形式のプレースホルダをユーザーに差し替えさせない。

## 4. 例外（分割を許可する条件）
- 以下の場合に限り、AIはコードブロック分割を許可される：
  - エラー回避や安全性のため、段階実行が必須である
  - GitHub の応答待ち（生成されるPR/Checksの確定）が必要である
- 分割する場合は、**STEP 1 / STEP 2** のように順番を明示し、ユーザーが迷わない一本道を維持する。

## 5. 優先順位
本契約は、チャット内の便宜的な説明や提案より優先される。
