<!--
参照定義ファイル：
MEP/definitions/SYMBOLS.md

運用ルール：
本ファイル内に出現するすべての参照記号（@Sxxxx）は、
個別指定や列挙を行わず、
上記「参照定義ファイル」を唯一の正として解決する。

本ファイルは、参照関係の宣言・管理を行わない。
-->



UI_spec_MEP.md

MEP Form UI ― MEP 操作 UI 適用仕様

1. 対象仕様の概要

本 UI_spec_MEP は、
MEP システム本体を操作するための管理用 UI に対して、
UI_PROTOCOL に定義された UI 統治・意味仕様を
MEP 操作という文脈に適用した結果を記述するものである。

本書は以下を満たす。

本書は UI_PROTOCOL に従属する

本書は MEP 操作 UI 専用の派生文書である

本書は 業務 master_spec に対する UI_spec ではない

本書は UI の原則・状態定義を再定義せず、参照に留める

2. 画面構成（MEP 操作 UI）

MEP 操作 UI における画面構成は、以下とする。

2.1 画面種別

HOME

MEP 操作の起点画面

新規作成、状態初期化後の表示起点となる

カルテ画面

業務 master_spec を作成・編集するための補助情報を入力する画面

業務の背景・意図・補足説明を記述する

マスタ画面

業務 master_spec 本体を作成・編集するための主画面

業務定義・構造・制約を記述する

コード画面

MEP により生成された成果物を確認する画面

API 定義／データ構造／UI ロジック等の生成結果を表示する

※ 各画面の存在理由および振る舞いは UI_PROTOCOL に従う。

3. 入力項目と画面割当（MEP 視点）
3.1 カルテ画面に割り当てられる情報

カルテ画面には、
業務 master_spec を作成するための補助情報を入力する。

業務の目的

現状の課題

前提条件

補足事項

背景情報

補足：

カルテは 業務仕様そのものではない

業務仕様の唯一の正は、マスタ画面の内容として確定される

3.2 マスタ画面に割り当てられる情報

マスタ画面には、
業務 master_spec 本体の内容を入力する。

業務定義

入力項目定義

出力項目定義

条件分岐

制約事項

データ構造

業務フロー

補足：

マスタ画面は MEP 操作 UI における主要入力画面である

ここに入力された内容が、業務 master_spec として確定される

4. 操作順序（MEP 操作の標準フロー）

MEP 操作における標準的な操作順序は以下とする。

HOME 画面で新規作成または作業開始

カルテ画面で補助情報を入力（任意）

マスタ画面で業務 master_spec を作成・編集（必須）

一時保存を行う

監査・生成等の MEP 処理を実行

コード画面で生成結果を確認

※ 操作順序は強制ではない。
本順序は 標準的な参照順である。

5. 条件付き表示・非表示（MEP 操作 UI）
5.1 コード画面の表示条件

コード画面は、MEP による生成処理が開始された後に 表示対象となる

生成未実行の状態では表示対象とならない

5.2 操作ボタンの表示条件

操作ボタンの表示は、
UI_PROTOCOL に定義された UI 状態 × 操作原則 に従う

本 UI_spec_MEP では、
追加の例外的な操作定義は行わない

6. 画面遷移フロー（MEP 操作特有）
6.1 新規作成時

新規作成操作により、

UI 状態は 初期状態に遷移する

表示画面は HOME に戻る

6.2 編集時

編集操作により、

カルテ画面またはマスタ画面が表示される

画面を開くこと自体は UI 状態を変更しない

6.3 処理実行時

保存・監査・生成等の処理実行により、

UI 状態は UI_PROTOCOL に定義された処理中状態へ遷移する

処理結果に応じて、以下のいずれかに遷移する。

完了

業務エラー（監査 NG）

システムエラー

7. MEP 操作 UI における表示文言

MEP 操作 UI において使用する表示文言は以下とする。

7.1 新規作成時

新しい業務仕様の作成を開始しました。
内容の入力を行ってください。

7.2 編集中

業務仕様を編集中です。
必要に応じて一時保存してください。

7.3 処理中

MEP による処理を実行しています。
完了するまでお待ちください。

7.4 業務エラー時（監査 NG）

業務仕様に監査上の不整合があります。
該当箇所を確認してください。

7.5 システムエラー時

MEP の処理に失敗しました。
キャンセルして最初からやり直してください。

7.6 完了時

処理が完了しました。
次に可能な操作を確認してください。

8. 本書の更新ルール

本書は MEP 操作 UI の仕様変更時にのみ更新する

業務 master_spec の内容変更により更新されることはない

UI_PROTOCOL の変更を伴う修正は行わない

UI 実装（index.html）は、本書との差分として管理される

以上で、UI_spec_MEP.md（確定版）の全文生成を完了します。
