<!--
参照定義ファイル：
MEP/definitions/SYMBOLS.md

運用ルール：
本ファイル内に出現するすべての参照記号（@Sxxxx）は、
個別指定や列挙を行わず、
上記「参照定義ファイル」を唯一の正として解決する。

本ファイルは、参照関係の宣言・管理を行わない。
-->

# MEP_INTEGRATION_COMPILER_PROTOCOL
（全体監査・全文再構成コンパイラ定義）

本書は、  
MEP における **複数文書の同時更新・追加が発生した場合に、  
全体整合を維持したまま最新版へ統合するための  
統合監査・再構成工程**を定義する。

本書は、

- 思想を定義しない
- 正を新規に決定しない
- system_protocol の制御に介入しない

---

## 0. 本書の位置づけ

MEP_INTEGRATION_COMPILER（以下、本コンパイラ）は、  
MEP の **外側** に存在する補助的統合工程である。

本コンパイラは、

- フェーズではない
- 判断主体ではない
- 実行主体ではない

本コンパイラは、  
**既に定義されている唯一の正を破壊しないための  
再構成機械**としてのみ存在する。

---

## 1. 起動条件

本コンパイラは、以下の条件のいずれかを満たした場合に起動される。

- Canon / Protocol / Definition 文書の追加
- 既存 Canon / Protocol / Definition 文書の更新
- 文書間の責務分離に影響を与える変更が検出された場合
- 人間が「統合再構成」を明示的に指示した場合

差分量・変更箇所数は、起動条件に影響しない。

---

## 2. 入力対象（強制）

本コンパイラは、  
以下を **必ず全量入力として扱う。**

- MEP_core 配下の全 Canon / Protocol / Definition 文書
- 追加・更新された文書
- 既存文書（変更なしを含む）

差分入力・部分入力は禁止する。

---

## 3. 思想監査（Semantic Audit）

本コンパイラは、  
全入力文書に対して **思想監査**を行う。

思想監査では、各文書を以下の観点で評価する。

- 思想（Concept）
- 制御（Control）
- 検知（Detection）
- 実行骨格（Execution）

および、

- 記述内容と配置場所の整合
- Z / SYSTEM_GUARD / CI_GUARD の責務分離
- system_protocol との越境有無
- 判定・制御・思想の混線有無

---

## 4. 判定結果の扱い

思想監査の結果は、  
**OK / NG の二値として内部的に保持**される。

ただし、

- 本コンパイラは OK / NG を外部に公開しない
- 本コンパイラは OK / NG を制御判断に変換しない

---

## 5. 再構成規則（BAT）

### 5.1 OK 文書

思想監査で OK と判定された文書は、  
**一切変更してはならない。**

差分修正・文言調整・順序変更は禁止する。

---

### 5.2 NG 文書

思想監査で NG と判定された文書は、  
**必ず全文再生成（BAT）によって再構成**する。

以下を禁止する。

- 差分修正
- 部分修正
- 条項単位の書き換え

再生成は、  
既に確定している MEP_PROTOCOL / system_protocol / 各 CANON  
を **唯一の正**として行われる。

---

## 6. 統合再監査

再構成後、  
本コンパイラは **再度すべての文書を全量監査**する。

- 相互参照矛盾
- 責務越境
- 思想混線

が **完全に解消されるまで**、  
再構成と再監査を繰り返す。

---

## 7. 出力

本コンパイラの出力は以下に限定される。

- 再構成後の全文（BAT）
- 変更対象となった文書一覧
- 「最新版」としての整合状態

判断理由・説明文・評価文の出力は禁止する。

---

## 8. 人間確定原則

本コンパイラは、  
**いかなる場合も自動確定を行わない。**

最終的な採用・保存・コミットは、  
必ず人間の明示的な OK によってのみ行われる。

---

## 9. 禁止事項

以下を禁止する。

- 部分入力による統合
- 差分ベースの自動修正
- 無人運用
- 本コンパイラによる思想追加
- 本コンパイラによる正の再定義

---

## 10. 最終宣言

本書をもって、

MEP_INTEGRATION_COMPILER は、  
MEP における **統合監査・全文再構成の唯一の正規工程**として確定する。

本コンパイラは、  
MEP の思想を守るためにのみ存在し、  
MEP の思想を変更しない。

---

以上。
