# RULESET

（このファイルは運用ルールの唯一の正です）

<!-- OPS_CONTRACT_BEGIN -->
# OPS_CONTRACT（運用契約｜唯一の正）

## 優先順位（固定）
安全 ＞ 再現性 ＞ 速度

## 進捗表示（毎回必須）
- 正規ロードマップ（全7工程）を毎回表示
- 現在地（★）を毎回表示
- 脇道／枝分かれは必ず「【脇道】」と明示
- 「完成しました」は Done 条件を満たした時のみ使用

## 正規ロードマップ（固定：7工程）
1. 固定仕様（契約）確定
2. 現状ツリー収集
3. Canonical整流（唯一の正の確定と二重化排除）
4. Seed方式（CSV＋SEED_MANIFEST）
5. Gate（最小5・緩めない）
6. P復旧ループ（自動収束）
7. Done判定（業務開始可能）

## 承認モデル（固定）
- 包括承認：最初に1回のみ
- 途中承認／途中入力／ID確認：ゼロ
- 外部要因（権限/認証/サービス障害）のみ「外部ブロック」として停止し、やることを1枚で提示

## canonical（唯一の正）
- 拡張子付きのみ（拡張子なし本編は禁止）
- 業務仕様：business/master_spec.md
- UI仕様：business/ui_spec.md

## Seed（初期値）
- CSVを採用
- 目録（唯一の正）：seed/SEED_MANIFEST.csv
- seed投入対象：manifest記載分のみ

## Gate（緩めない最小5｜緑＝正式完了/正式復旧）
G1 canonical一意性
G2 UTF-8健全性
G3 スコープ逸脱なし
G4 生成成功
G5 seed投入成功

## P復旧（固定）
- 失敗しても人間に戻さず自動復旧・自動パッチで緑まで収束
- 貼り付け復旧は正式扱いしない（緑まで到達して初めて正式）

## 出力運用（コピペ事故防止｜固定）
- PowerShell実行用コードは「コードブロック1個のみ」
- 1〜2行の実行も必ず1ブロックに統合
- PowerShell以外（Python等）のコードブロックは禁止
- 「このファイルを貼ってください」等の依頼はコードブロック禁止
- コードブロック＝実行対象として扱う（読ませたい内容はコードブロックにしない）

## 割り込み（固定）
- ユーザーが一言送ったら、以後のコード出力・実行を即停止し説明フェーズへ戻る
<!-- OPS_CONTRACT_END -->

